#!/bin/sh

options=$(ls "$HOME"/dotfiles/themes/)

n="$(echo "$options" | tr -d ' ' | wc -w)"

choice=$(echo "$options" | dmenu -m 0 -c -i -l "$n" -p "set colorscheme")


[ -z "$choice" ] && echo "chcol: aborting" && exit 1
[ ! -e "$HOME/dotfiles/themes/$choice" ] && echo "chcol: no such file: $HOME/dotfiles/themes/$choice" && exit 1

echo "changing colorscheme to $choice"
echo "some apps may need to restart"

rm "$HOME/.Xresources"

ln -s "$HOME/dotfiles/themes/$choice" "$HOME/.Xresources"

xrdb "$HOME/.Xresources"
